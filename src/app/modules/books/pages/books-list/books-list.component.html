<div class="list row">
  <h4>Books List</h4>

  <div class="col-md-8">
    <form #searchForm="ngForm">
      <div class="input-group mb-3">
        <input name="searchTerm" type="text" class="form-control" placeholder="Search text" [(ngModel)]="searchTerm"
          #searchInp="ngModel" required />
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="button" (click)="searchBooks()">
            Search
          </button>
        </div>

        <span class="help-block text-danger" *ngIf="searchInp && (searchInp.dirty || searchInp.touched)">
          <span *ngIf="searchInp?.errors?.['required']">
            Enter Search Text
          </span>
        </span>

      </div>
    </form>
  </div>
  <div class="col-md-2"></div>
</div>
<div class="row">
  <div class="search-results" infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="500"
    (scrolled)="onScroll()" [scrollWindow]="false">
    <div class="data-card" *ngFor="let book of books">
      <div>
        <div class="row no-gutters">
          <div class="col-md-4">
            <img [src]='book.coverBase64' class="card-img" alt="Book cover">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Book Title: {{ book.bookTitle }}</h5>
              <h6 class="card-title">Author: {{ book.author }}</h6>
              <p class="card-text">Description: {{ book.bookDescription }}</p>
              <p class="card-text"><small class="text-muted">Publish Date:
                  {{ book.publishDate | date:'short' }}</small>
              </p>
              <p class="card-text"><small class="text-muted">Last Modified:
                  {{ book.lastModified | date:'short' }}</small>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>